{% extends "base.html" %}

{% block content %}
<h1>Profile</h1>

<form method="POST" enctype="multipart/form-data" style="display: flex; justify-content: space-between; align-items: flex-start;">
    {% csrf_token %}

    <!-- Left Section: Profile Picture -->
    <div style="flex: 1; display: flex; flex-direction: column; align-items: center;">
        {% if profile.photo %}
            <img src="{{ profile.photo.url }}" alt="Profile Photo" style="max-width: 150px; max-height: 150px; border: 1px solid #ccc; margin-bottom: 20px;" />
        {% else %}
            <p>No photo available</p>
        {% endif %}
        <input type="file" id="photo" name="photo" style="margin-top: 10px;">
    </div>

    <!-- Middle Section: User Information -->
    <div style="flex: 2; margin-left: 20px;">
        <table style="width: 100%; border-spacing: 10px;">
            <tr>
                <td><strong>Username:</strong></td>
                <td>{{ request.user.username }}</td>
            </tr>
            <tr>
                <td><strong>Age:</strong></td>
                <td><input type="text" name="age" value="{{ profile.age }}" style="width: 100%;"></td>
            </tr>
            <tr>
                <td><strong>Major:</strong></td>
                <td><input type="text" name="major" value="{{ profile.major }}" style="width: 100%;"></td>
            </tr>
            <tr>
                <td><strong>Phone:</strong></td>
                <td><input type="text" name="phone" value="{{ profile.phone }}" style="width: 100%;"></td>
            </tr>
            <tr>
                <td><strong>Email:</strong></td>
                <td><input type="email" name="email" value="{{ profile.email }}" style="width: 100%;"></td>
            </tr>
        </table>
        <!-- Bottom Buttons -->
        <div style="margin-top: 20px; display: flex; justify-content: space-between;">
            <button type="submit" style="padding: 10px 20px; background-color: #6dac5b; color: white; border: none; border-radius: 5px;">Update Profile</button>
        </div>
    </div>

    <!-- Right Section: Bio -->
    <div style="flex: 1; margin-left: 20px;">
        <label for="bio"><strong>Bio:</strong></label>
        <textarea id="bio" name="bio" style="width: 100%; height: 200px; margin-top: 10px;">{{ profile.bio }}</textarea>
    </div>
</form>
{% endblock %}
