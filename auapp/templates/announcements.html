{% extends 'base.html' %}

{% block content %}
<h1>Announcements</h1>

<!-- For Prof Account -->
{% if is_prof %}
    <h2>Create Announcement</h2>
    <form method="POST">
        {% csrf_token %}
        <label for="title">Title:</label>
        <input type="text" name="title" id="title" required><br><br>
        
        <label for="description">Description:</label><br>
        <textarea name="description" id="description" rows="4" cols="50" required></textarea><br><br>
        
        <button type="submit">Post Announcement</button>
    </form>

    <h2>All Announcements</h2>
    <ul>
        {% for announcement in announcements %}
        <li>
            <strong>{{ announcement.title }}</strong><br>
            <p>{{ announcement.description }}</p>
        </li>
        {% empty %}
        <p>No announcements available.</p>
        {% endfor %}
    </ul>
{% else %}
    <!-- For Student Account -->

    <ul>
        {% for announcement in announcements %}
        <li>
            <strong>{{ announcement.title }}</strong><br>
            <p>{{ announcement.description }}</p>
        </li>
        {% empty %}
        <p>No announcements available.</p>
        {% endfor %}
    </ul>
{% endif %}
{% endblock %}
